<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Club</title>
</head>
<body>
    <h1>Welcome to the Book Club</h1>

    <!-- List of books using Thymeleaf's each directive -->
    <div>
        <h2>Books List</h2>
        <ul>
            <!-- Iterate over the list of books from the model -->
            <li th:each="book : ${books}">
                <div>
                    <!-- Bind the book's title to the HTML element -->
                    <h3 th:text="${book.title}"></h3>

                    <!-- Bind the book's description -->
                    <p><strong>Description:</strong> <span th:text="${book.description}"></span></p>

                    <!-- Bind the book's number of pages -->
                    <p><strong>Number of Pages:</strong> <span th:text="${book.numOfPages}"></span></p>

                    <!-- Bind the list of authors -->
                    <p><strong>Authors:</strong>
                        <span th:each="author : ${book.authors}">
                            <span th:text="${author}"></span><span th:if="${!author.equals(book.authors[book.authors.size() - 1])}">, </span>
                        </span>
                    </p>

                    <!-- View button that redirects to the book's details page using the isbn as id -->
                    <a th:href="@{|/${book.isbn}|}" class="btn">View Book</a>
                </div>
            </li>
        </ul>
    </div>

</body>
</html>
